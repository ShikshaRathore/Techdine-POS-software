<!-- Payment Gateways Tab -->
<div id="payment-gateways" class="settings-content hidden">
  <div class="bg-white shadow rounded-lg p-6">
    <h2 class="text-2xl font-bold text-gray-900 mb-2">Payment Gateways</h2>
    <p class="text-gray-600 mb-8">
      Enter payment gateway credentials to receive order payments.
    </p>

    <!-- Sub Tabs for Payment Gateways -->
    <div class="border-b border-gray-200 mb-6">
      <nav class="flex space-x-8">
        <button
          onclick="showPaymentTab('razorpay')"
          class="payment-tab py-4 px-1 border-b-2 font-medium text-sm border-orange-500 text-orange-600"
          data-payment-tab="razorpay"
        >
          <span class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M22.436 0l-11.436 7.5v16.5l11.436-11.5-.001-12.5zm-20.936 6h7.5l-7.5 5.5v-5.5zm0 7.5l7.5-5.5v12.5l-7.5-7z"
              />
            </svg>
            Razorpay <% if (branch.paymentGateways &&
            !branch.paymentGateways.razorpay.enabled) { %>
            <span
              class="ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800"
            >
              ●
            </span>
            <% } %>
          </span>
        </button>
        <button
          onclick="showPaymentTab('stripe')"
          class="payment-tab py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500"
          data-payment-tab="stripe"
        >
          <span class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.594-7.305h.003z"
              />
            </svg>
            Stripe <% if (branch.paymentGateways &&
            !branch.paymentGateways.stripe.enabled) { %>
            <span
              class="ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800"
            >
              ●
            </span>
            <% } %>
          </span>
        </button>
        <button
          class="payment-tab py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 flex items-center"
        >
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
            />
          </svg>
          General Settings
        </button>
      </nav>
    </div>

    <!-- Razorpay Settings -->
    <div id="razorpay" class="payment-content">
      <form
        action="/dashboard/<%= branchId %>/settings/payment-gateway"
        method="POST"
      >
        <input type="hidden" name="gateway" value="razorpay" />
        <div class="space-y-6">
          <div class="flex items-center">
            <input type="checkbox" id="enableRazorpay" name="enabled" class="h-4
            w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"
            <%= branch.paymentGateways &&
            branch.paymentGateways.razorpay.enabled ? 'checked' : '' %> />
            <label
              for="enableRazorpay"
              class="ml-2 block text-sm font-semibold text-gray-900"
            >
              Enable Razorpay
            </label>
          </div>

          <div>
            <label
              for="razorpayKey"
              class="block text-sm font-semibold text-gray-700 mb-2"
            >
              Razorpay KEY
            </label>
            <input
              type="text"
              id="razorpayKey"
              name="key"
              value="<%= branch.paymentGateways && branch.paymentGateways.razorpay.keyId || '' %>"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Enter Razorpay Key ID"
            />
          </div>

          <div>
            <label
              for="razorpaySecret"
              class="block text-sm font-semibold text-gray-700 mb-2"
            >
              Razorpay SECRET
            </label>
            <input
              type="password"
              id="razorpaySecret"
              name="secret"
              value="<%= branch.paymentGateways && branch.paymentGateways.razorpay.keySecret || '' %>"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Enter Razorpay Key Secret"
            />
          </div>

          <button
            type="submit"
            class="bg-orange-600 hover:bg-orange-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors"
          >
            Save
          </button>
        </div>
      </form>
    </div>

    <!-- Stripe Settings -->
    <div id="stripe" class="payment-content hidden">
      <form
        action="/dashboard/<%= branchId %>/settings/payment-gateway"
        method="POST"
      >
        <input type="hidden" name="gateway" value="stripe" />
        <div class="space-y-6">
          <div class="flex items-center">
            <input type="checkbox" id="enableStripe" name="enabled" class="h-4
            w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"
            <%= branch.paymentGateways && branch.paymentGateways.stripe.enabled
            ? 'checked' : '' %> />
            <label
              for="enableStripe"
              class="ml-2 block text-sm font-semibold text-gray-900"
            >
              Enable Stripe
            </label>
          </div>

          <div>
            <label
              for="stripePublicKey"
              class="block text-sm font-semibold text-gray-700 mb-2"
            >
              Stripe Public Key
            </label>
            <input
              type="text"
              id="stripePublicKey"
              name="key"
              value="<%= branch.paymentGateways && branch.paymentGateways.stripe.publicKey || '' %>"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Enter Stripe Public Key"
            />
          </div>

          <div>
            <label
              for="stripeSecretKey"
              class="block text-sm font-semibold text-gray-700 mb-2"
            >
              Stripe Secret Key
            </label>
            <input
              type="password"
              id="stripeSecretKey"
              name="secret"
              value="<%= branch.paymentGateways && branch.paymentGateways.stripe.secretKey || '' %>"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Enter Stripe Secret Key"
            />
          </div>

          <button
            type="submit"
            class="bg-orange-600 hover:bg-orange-700 text-white font-semibold px-6 py-3 rounded-lg transition-colors"
          >
            Save
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
