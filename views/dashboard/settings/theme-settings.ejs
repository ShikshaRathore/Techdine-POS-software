<!-- Theme Settings Tab -->
<div id="theme-settings" class="settings-content hidden">
  <div class="bg-white shadow-lg rounded-xl p-4 sm:p-6 lg:p-8">
    <div class="mb-6 sm:mb-8">
      <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-2">
        Theme Settings
      </h2>
      <p class="text-sm sm:text-base text-gray-600">
        Customize your restaurant's branding and appearance
      </p>
    </div>

    <form
      action="/dashboard/<%= branchId %>/settings/theme"
      method="POST"
      enctype="multipart/form-data"
    >
      <div class="space-y-6 sm:space-y-8">
        <!-- Logo Upload Section -->
        <div
          class="bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-4 sm:p-6"
        >
          <label
            class="block text-base sm:text-lg font-semibold text-gray-900 mb-4"
          >
            <span class="flex items-center gap-2">
              <svg
                class="w-5 h-5 sm:w-6 sm:h-6 text-orange-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                />
              </svg>
              Restaurant Logo
            </span>
          </label>

          <div class="flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6">
            <!-- Logo Preview -->
            <div class="flex-shrink-0">
              <% if (branch.theme && branch.theme.logo) { %>
              <div class="relative group">
                <img
                  src="<%= branch.theme.logo %>"
                  alt="Current Logo"
                  class="h-24 w-24 sm:h-32 sm:w-32 object-contain border-2 border-gray-300 rounded-xl p-3 bg-white shadow-md"
                />
                <div
                  class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 rounded-xl transition-all"
                ></div>
              </div>
              <% } else { %>
              <div
                class="h-24 w-24 sm:h-32 sm:w-32 bg-gradient-to-br from-gray-100 to-gray-200 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center shadow-inner"
              >
                <svg
                  class="h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mb-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <p class="text-xs text-gray-500">No logo</p>
              </div>
              <% } %>
            </div>

            <!-- Upload Controls -->
            <div class="flex-1 space-y-3">
              <div
                class="bg-white rounded-lg border-2 border-dashed border-gray-300 hover:border-orange-400 transition-all p-4"
              >
                <label class="block cursor-pointer">
                  <span class="sr-only">Choose logo</span>
                  <input
                    type="file"
                    name="logo"
                    accept="image/*"
                    class="block w-full text-xs sm:text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:sm:text-sm file:font-semibold file:bg-orange-600 file:text-white hover:file:bg-orange-700 file:cursor-pointer file:transition-colors cursor-pointer"
                  />
                </label>
              </div>
              <div
                class="flex items-start gap-2 text-xs sm:text-sm text-gray-600"
              >
                <svg
                  class="w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 mt-0.5"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                  />
                </svg>
                <div>
                  <p class="font-medium text-gray-700 mb-1">Logo Guidelines:</p>
                  <ul class="space-y-0.5 text-gray-600">
                    <li>• PNG or JPG format recommended</li>
                    <li>• Square or transparent background works best</li>
                    <li>• Minimum size: 200x200 pixels</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Theme Color Section -->
        <div
          class="bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-4 sm:p-6"
        >
          <label
            for="primaryColor"
            class="block text-base sm:text-lg font-semibold text-gray-900 mb-4"
          >
            <span class="flex items-center gap-2">
              <svg
                class="w-5 h-5 sm:w-6 sm:h-6 text-purple-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"
                />
              </svg>
              Primary Theme Color
            </span>
          </label>

          <div class="bg-white rounded-lg border border-gray-200 p-4 sm:p-5">
            <div class="flex flex-col sm:flex-row sm:items-center gap-4">
              <!-- Color Picker -->
              <div class="flex items-center gap-4">
                <label for="primaryColor" class="cursor-pointer group">
                  <div class="relative">
                    <input
                      type="color"
                      id="primaryColor"
                      name="primaryColor"
                      value="<%= branch.theme && branch.theme.primaryColor || '#EA580C' %>"
                      class="h-16 w-16 sm:h-20 sm:w-20 border-2 border-gray-300 rounded-xl cursor-pointer shadow-md hover:shadow-lg transition-all"
                    />
                    <div
                      class="absolute inset-0 border-2 border-transparent group-hover:border-orange-400 rounded-xl transition-all pointer-events-none"
                    ></div>
                  </div>
                </label>

                <!-- Color Info -->
                <div class="flex-1">
                  <p class="text-xs sm:text-sm font-medium text-gray-700 mb-1">
                    Selected Color
                  </p>
                  <div class="flex items-center gap-2">
                    <code
                      class="px-3 py-1.5 bg-gray-100 border border-gray-300 rounded-lg text-sm sm:text-base font-mono text-gray-900"
                    >
                      <%= branch.theme && branch.theme.primaryColor || '#EA580C'
                      %>
                    </code>
                    <button
                      type="button"
                      onclick="navigator.clipboard.writeText(document.getElementById('primaryColor').value)"
                      class="p-1.5 hover:bg-gray-100 rounded-lg transition-colors"
                      title="Copy color code"
                    >
                      <svg
                        class="w-4 h-4 text-gray-600"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                        />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Color Preview -->
            <div class="mt-4 pt-4 border-t border-gray-200">
              <p class="text-xs sm:text-sm font-medium text-gray-700 mb-3">
                Preview:
              </p>
              <div class="flex flex-wrap gap-2">
                <div
                  class="px-4 py-2 rounded-lg bg-orange-600 text-white text-sm font-medium shadow-md"
                >
                  Primary Button
                </div>
                <div
                  class="px-4 py-2 rounded-lg border-2 border-orange-600 text-orange-600 text-sm font-medium"
                >
                  Outlined Button
                </div>
                <div
                  class="px-4 py-2 rounded-lg bg-orange-100 text-orange-600 text-sm font-medium"
                >
                  Badge
                </div>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                Note: Preview shows default orange theme. Your selected color
                will apply when saved.
              </p>
            </div>
          </div>

          <div
            class="mt-3 flex items-start gap-2 text-xs sm:text-sm text-gray-600"
          >
            <svg
              class="w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0 mt-0.5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <p>
              This color will be used throughout your restaurant's interface for
              buttons, links, and accents.
            </p>
          </div>
        </div>

        <!-- Save Button -->
        <div class="pt-2">
          <button
            type="submit"
            class="w-full sm:w-auto bg-orange-600 hover:bg-orange-700 active:bg-orange-800 text-white font-semibold px-6 sm:px-8 py-3 sm:py-3.5 rounded-lg transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5"
          >
            <span class="flex items-center justify-center gap-2">
              Save Theme
            </span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
