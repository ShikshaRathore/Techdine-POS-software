<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Super Admin Dashboard - TechDine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJc5nI6F8uD9Kk1J/h4mR11o+V7U2F8H6XfF+X1M7XFq6tH0L0F5N+vT5i7L7zQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      /* --- Custom Colors & Styles --- */
      :root {
        --color-sidebar: #1f2937;
        --color-active-bg: #374151;
        --color-primary-green: #34d399;
        --color-primary-blue: #60a5fa;
        --color-primary-purple: #a78bfa;
        --color-primary-orange: #fb923c;
        --color-orange-deep: #ea580c;
      }
      body {
        font-family: "Inter", sans-serif;
      }
      .sidebar-bg {
        background-color: var(--color-sidebar);
      }
      .active-menu {
        background-color: var(--color-active-bg) !important;
        color: white !important;
        border-left: 4px solid var(--color-primary-orange);
      }
      .menu-item {
        transition: all 0.2s ease;
      }
      .menu-item:hover:not(.active-menu) {
        background-color: #374151;
      }
      .card-base {
        border-radius: 12px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }
      .card-base:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      .sidebar-icon {
        width: 1.25rem;
        text-align: center;
      }
      .h-screen-full {
        height: 100vh;
      }
      .lg\:static-important {
        position: static !important;
      }

      /* Modal Specific Styles */
      .modal-content {
        max-height: 90vh;
        overflow-y: auto;
      }
    </style>
  </head>

  <body class="bg-gray-50 overflow-hidden">
    <!-- Sidebar Backdrop (Mobile) -->
    <div
      id="sidebar-backdrop"
      class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden transition-opacity duration-300 lg:hidden"
    ></div>

    <div class="flex h-screen-full overflow-hidden">
      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="fixed inset-y-0 left-0 w-64 sidebar-bg text-gray-100 flex flex-col transform -translate-x-full transition-transform duration-300 z-40 lg:translate-x-0 lg:static-important"
      >
        <div class="p-6">
          <div class="flex items-center space-x-3 mb-6">
            <div
              class="w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-xl font-bold text-white"
            >
              R
            </div>
            <h1 class="text-xl font-bold text-white">TechDine Admin</h1>
          </div>
          <p class="text-sm text-gray-400 -mt-2">Super Admin Console</p>
        </div>

        <!-- Navigation -->
        <nav class="flex flex-col space-y-1 p-3 flex-grow">
          <!-- Dashboard -->
          <button
            class="menu-item active-menu text-left px-3 py-3 rounded-lg flex items-center space-x-3"
            data-target="dashboard"
          >
            <i class="fas fa-chart-line sidebar-icon"></i>
            <span class="font-medium">Dashboard</span>
          </button>
          <!-- Hotel Management -->
          <button
            class="menu-item text-left px-3 py-3 rounded-lg flex items-center space-x-3 hover:text-white"
            data-target="hotels"
          >
            <i class="fas fa-hotel sidebar-icon"></i>
            <span class="font-medium">Hotel Management</span>
          </button>
          <!-- Manager Requests -->
          <button
            class="menu-item text-left px-3 py-3 rounded-lg flex items-center space-x-3 hover:text-white"
            data-target="managers"
          >
            <i class="fas fa-user-tie sidebar-icon"></i>
            <span class="font-medium">Manager Requests</span>
          </button>
          <!-- Owner Management -->
          <button
            class="menu-item text-left px-3 py-3 rounded-lg flex items-center space-x-3 hover:text-white"
            data-target="owners"
          >
            <i class="fas fa-user-tag sidebar-icon"></i>
            <span class="font-medium">Owner Management</span>
          </button>
          <!-- Analytics -->
          <button
            class="menu-item text-left px-3 py-3 rounded-lg flex items-center space-x-3 hover:text-white"
            data-target="analytics"
          >
            <i class="fas fa-chart-area sidebar-icon"></i>
            <span class="font-medium">Analytics</span>
          </button>
          <!-- Settings -->
          <button
            class="menu-item text-left px-3 py-3 rounded-lg flex items-center space-x-3 hover:text-white"
            data-target="settings"
          >
            <i class="fas fa-cog sidebar-icon"></i>
            <span class="font-medium">Settings</span>
          </button>
        </nav>
      </aside>

      <!-- Main Content Area -->
      <div class="flex-1 overflow-y-auto">
        <header
          class="bg-white shadow-sm p-4 sticky top-0 z-10 flex justify-between items-center lg:pl-64"
        >
          <button id="openSidebar" class="lg:hidden text-2xl text-gray-800">
            <i class="fas fa-bars"></i>
          </button>

          <h2
            class="text-xl sm:text-2xl font-semibold text-gray-900"
            id="headerTitle"
          >
            Dashboard Overview
          </h2>

          <div class="flex items-center space-x-4">
            <span class="text-gray-600 hidden sm:block text-sm"
              >Welcome, Super Admin</span
            >
            <img
              src="https://placehold.co/40x40/ea580c/ffffff?text=A"
              alt="Profile"
              class="rounded-full h-10 w-10 object-cover border-2 border-gray-400"
            />
          </div>
        </header>

        <!-- Page Content -->
        <main class="p-4 sm:p-6 lg:ml-0">
          <!-- Main Sections Container -->
          <div id="content-container" class="space-y-8">
            <!-- DASHBOARD SECTION -->
            <section id="dashboard" class="content-section">
              <!-- Metric Cards (Row 1) -->
              <div
                class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"
              >
                <!-- Total Hotels (Green Card) -->
                <div
                  class="card-base p-5 text-white"
                  style="background-color: var(--color-primary-green)"
                >
                  <div class="flex justify-between items-center mb-2">
                    <i class="fas fa-hotel text-4xl"></i>
                    <span class="text-sm font-semibold flex items-center">
                      <i class="fas fa-arrow-up text-xs mr-1"></i>+12%
                    </span>
                  </div>
                  <p class="text-4xl font-extrabold" id="totalHotelsCount">
                    128
                  </p>
                  <h4 class="text-sm font-light mt-1">Total Hotels Managed</h4>
                  <p class="text-xs mt-1 opacity-70">Since last quarter</p>
                </div>

                <!-- Active Managers (Blue Card) -->
                <div
                  class="card-base p-5 text-white"
                  style="background-color: var(--color-primary-blue)"
                >
                  <div class="flex justify-between items-center mb-2">
                    <i class="fas fa-user-friends text-4xl"></i>
                    <span class="text-sm font-semibold flex items-center">
                      <i class="fas fa-arrow-down text-xs mr-1"></i>-2%
                    </span>
                  </div>
                  <p class="text-4xl font-extrabold">89</p>
                  <h4 class="text-sm font-light mt-1">Active Managers</h4>
                  <p class="text-xs mt-1 opacity-70">Since last month</p>
                </div>

                <!-- Avg. Commission (Purple Card) -->
                <div
                  class="card-base p-5 text-white"
                  style="background-color: var(--color-primary-purple)"
                >
                  <div class="flex justify-between items-center mb-2">
                    <i class="fas fa-dollar-sign text-4xl"></i>
                    <span class="text-sm font-semibold flex items-center">
                      <i class="fas fa-arrow-up text-xs mr-1"></i>+5.1%
                    </span>
                  </div>
                  <p class="text-4xl font-extrabold">₹5.2K</p>
                  <h4 class="text-sm font-light mt-1">
                    Avg. Commission (Today)
                  </h4>
                  <p class="text-xs mt-1 opacity-70">Oct 2025 average</p>
                </div>

                <!-- Total Revenue (Orange Card) -->
                <div
                  class="card-base p-5 text-white"
                  style="background-color: var(--color-primary-orange)"
                >
                  <div class="flex justify-between items-center mb-2">
                    <i class="fas fa-chart-bar text-4xl"></i>
                    <span class="text-sm font-semibold flex items-center">
                      <i class="fas fa-arrow-up text-xs mr-1"></i>+15%
                    </span>
                  </div>
                  <p class="text-4xl font-extrabold">₹8.2L</p>
                  <h4 class="text-sm font-light mt-1">
                    Total Revenue (This Month)
                  </h4>
                  <p class="text-xs mt-1 opacity-70">Since previous month</p>
                </div>
              </div>

              <!-- Secondary Panels (Row 2) -->
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Pending Approvals (Large Panel) -->
                <div class="lg:col-span-2 bg-white card-base p-6">
                  <h4
                    class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2"
                  >
                    Pending Hotel Approvals
                  </h4>
                  <ul class="space-y-4">
                    <li
                      class="flex justify-between items-center border-b pb-2 last:border-b-0"
                    >
                      <div class="flex items-center space-x-3">
                        <i
                          class="fas fa-hourglass-half text-xl text-yellow-500"
                        ></i>
                        <div>
                          <p class="font-medium text-gray-900">
                            Hotel Ocean View
                          </p>
                          <p class="text-sm text-gray-500">
                            Owner: Suman P. (New)
                          </p>
                        </div>
                      </div>
                      <button
                        class="text-sm text-white bg-green-500 hover:bg-green-600 px-3 py-1 rounded-full font-medium"
                      >
                        Review
                      </button>
                    </li>
                    <li
                      class="flex justify-between items-center border-b pb-2 last:border-b-0"
                    >
                      <div class="flex items-center space-x-3">
                        <i
                          class="fas fa-hourglass-half text-xl text-yellow-500"
                        ></i>
                        <div>
                          <p class="font-medium text-gray-900">
                            The Grand Palace
                          </p>
                          <p class="text-sm text-gray-500">
                            Owner: Ravi K. (Update)
                          </p>
                        </div>
                      </div>
                      <button
                        class="text-sm text-white bg-green-500 hover:bg-green-600 px-3 py-1 rounded-full font-medium"
                      >
                        Review
                      </button>
                    </li>
                    <li
                      class="flex justify-between items-center border-b pb-2 last:border-b-0"
                    >
                      <div class="flex items-center space-x-3">
                        <i
                          class="fas fa-check-circle text-xl text-gray-400"
                        ></i>
                        <div>
                          <p class="font-medium text-gray-900">
                            Hilton Garden Inn
                          </p>
                          <p class="text-sm text-gray-500">Owner: Approved</p>
                        </div>
                      </div>
                      <button
                        class="text-sm text-gray-400 bg-gray-100 px-3 py-1 rounded-full cursor-not-allowed"
                        disabled
                      >
                        Done
                      </button>
                    </li>
                  </ul>
                </div>

                <!-- Recent Activity (Small Panel) -->
                <div class="lg:col-span-1 bg-white card-base p-6">
                  <h4
                    class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2"
                  >
                    Admin Activity
                  </h4>
                  <ul class="space-y-3">
                    <li class="flex items-start space-x-3 text-gray-700">
                      <i
                        class="fas fa-check-square text-lg text-green-500 mt-1"
                      ></i>
                      <p>Approved **Hotel Ocean View**.</p>
                    </li>
                    <li class="flex items-start space-x-3 text-gray-700">
                      <i class="fas fa-wrench text-lg text-blue-500 mt-1"></i>
                      <p>Updated global commission rate to **8%**.</p>
                    </li>
                    <li class="flex items-start space-x-3 text-gray-700">
                      <i class="fas fa-ban text-lg text-red-500 mt-1"></i>
                      <p>Suspended **Manager 44-A** account.</p>
                    </li>
                    <li class="flex items-start space-x-3 text-gray-700">
                      <i
                        class="fas fa-user-plus text-lg text-green-500 mt-1"
                      ></i>
                      <p>Onboarded **New Owner 3**.</p>
                    </li>
                  </ul>
                </div>
              </div>
            </section>

            <!-- HOTEL MANAGEMENT SECTION -->
            <section id="hotels" class="content-section">
              <!-- Header -->
              <div
                class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-3"
              >
                <div class="flex items-center space-x-3">
                  <!-- Back Button (shown when viewing branches) -->
                  <button
                    id="backToUsers"
                    onclick="showUsersView()"
                    class="hidden w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center justify-center transition-all"
                    title="Back to Users"
                  >
                    <i class="fas fa-arrow-left text-gray-700"></i>
                  </button>

                  <h3
                    class="text-xl sm:text-2xl font-bold text-gray-900 flex items-center"
                  >
                    <i
                      id="sectionIcon"
                      class="fas fa-users text-blue-600 mr-2"
                    ></i>
                    <span id="sectionTitle">User Management</span>
                  </h3>
                </div>

                <a
                  href="/admin-dashboard/new-branch"
                  id="addBranchBtn"
                  class="hidden px-4 py-2 bg-gradient-to-r from-red-500 to-orange-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center space-x-2 font-medium"
                >
                  <i class="fas fa-plus"></i>
                  <span>Add Branch</span>
                </a>
              </div>

              <!-- Users View -->
              <div
                id="usersView"
                class="bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6"
              >
                <!-- Search Bar -->
                <div class="mb-4 sm:mb-6">
                  <form method="GET" action="/admin-dashboard">
                    <div class="relative">
                      <i
                        class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
                      ></i>
                      <input
                        type="text"
                        name="search"
                        value="<%= typeof search !== 'undefined' ? search : '' %>"
                        placeholder="Search users, restaurants, emails..."
                        class="w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
                      />
                    </div>
                  </form>
                </div>

                <!-- Users Table -->
                <div class="overflow-x-auto rounded-lg border border-gray-200">
                  <table class="w-full">
                    <thead class="bg-gray-50 border-b border-gray-200">
                      <tr>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"
                        >
                          User
                        </th>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase hidden sm:table-cell"
                        >
                          Restaurant
                        </th>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase hidden md:table-cell"
                        >
                          Email
                        </th>
                        <th
                          class="px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase hidden lg:table-cell"
                        >
                          Branches
                        </th>
                        <th
                          class="px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"
                        >
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                      <% if (users && users.length > 0) { %> <%
                      users.forEach(user => { %>
                      <tr class="hover:bg-gray-50 transition-colors">
                        <!-- User Info -->
                        <td class="px-4 py-4">
                          <div class="flex items-center space-x-3">
                            <div
                              class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0 text-white font-bold text-sm"
                            >
                              <%= user.username ?
                              user.username.charAt(0).toUpperCase() : 'U' %>
                            </div>
                            <div>
                              <p class="text-sm font-semibold text-gray-900">
                                <%= user.username || 'N/A' %>
                              </p>
                              <p class="text-xs text-gray-500">
                                ID: <%= user._id.toString().slice(-6) %>
                              </p>
                              <!-- Show on mobile only -->
                              <p class="text-xs text-gray-500 sm:hidden mt-1">
                                <i
                                  class="fas fa-utensils text-gray-400 mr-1"
                                ></i>
                                <%= user.restaurantName || 'N/A' %>
                              </p>
                            </div>
                          </div>
                        </td>

                        <!-- Restaurant Name -->
                        <td class="px-4 py-4 hidden sm:table-cell">
                          <div class="flex items-center text-sm text-gray-700">
                            <i class="fas fa-utensils text-gray-400 mr-2"></i>
                            <%= user.restaurantName || 'N/A' %>
                          </div>
                        </td>

                        <!-- Email -->
                        <td class="px-4 py-4 hidden md:table-cell">
                          <div class="flex items-center text-sm text-gray-700">
                            <i class="fas fa-envelope text-gray-400 mr-2"></i>
                            <%= user.email || 'N/A' %>
                          </div>
                        </td>

                        <!-- Number of Branches -->
                        <td class="px-4 py-4 text-center hidden lg:table-cell">
                          <span
                            class="px-3 py-1 inline-flex items-center text-xs font-semibold rounded-full bg-blue-100 text-blue-800"
                          >
                            <i class="fas fa-building mr-1"></i>
                            <%= user.branchCount || 0 %> <%= user.branchCount
                            === 1 ? 'Branch' : 'Branches' %>
                          </span>
                        </td>

                        <!-- Actions -->
                        <td class="px-4 py-4">
                          <div
                            class="flex items-center justify-center space-x-2"
                          >
                            <button
                              onclick="showBranchesView('<%= user._id %>', '<%= user.username %>', '<%= user.restaurantName %>')"
                              class="px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-xs font-medium rounded-lg transition-all flex items-center space-x-1"
                            >
                              <i class="fas fa-eye"></i>
                              <span class="hidden sm:inline">View</span>
                              <span class="lg:hidden"
                                >(<%= user.branchCount || 0 %>)</span
                              >
                            </button>
                          </div>
                        </td>
                      </tr>
                      <% }) %> <% } else { %>
                      <tr>
                        <td colspan="5" class="text-center py-12">
                          <i
                            class="fas fa-users-slash text-6xl text-gray-300 mb-4 block"
                          ></i>
                          <p class="text-gray-500">No users found.</p>
                        </td>
                      </tr>
                      <% } %>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Branches View (Initially Hidden) -->
              <div
                id="branchesView"
                class="hidden bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6"
              >
                <!-- User Info Card -->
                <div
                  class="mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200"
                >
                  <div
                    class="flex items-center justify-between flex-wrap gap-3"
                  >
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold"
                      >
                        <i class="fas fa-user text-xl"></i>
                      </div>
                      <div>
                        <p class="text-sm text-gray-600">
                          Viewing branches for
                        </p>
                        <p
                          class="text-lg font-bold text-gray-900"
                          id="currentUserName"
                        >
                          User Name
                        </p>
                        <p class="text-sm text-gray-600">
                          <i class="fas fa-utensils text-gray-400 mr-1"></i>
                          <span id="currentRestaurantName"
                            >Restaurant Name</span
                          >
                        </p>
                      </div>
                    </div>

                    <a
                      href="/admin-dashboard/new-branch?ownerId=<%= typeof currentUserId !== 'undefined' ? currentUserId : '' %>"
                      class="px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center space-x-2 font-medium text-sm"
                    >
                      <i class="fas fa-plus"></i>
                      <span>Add Branch</span>
                    </a>
                  </div>
                </div>

                <!-- Branches Search -->
                <div class="mb-4">
                  <div class="relative">
                    <i
                      class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
                    ></i>
                    <input
                      type="text"
                      id="branchSearch"
                      placeholder="Search branches..."
                      class="w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"
                    />
                  </div>
                </div>

                <!-- Branches Table -->
                <div class="overflow-x-auto rounded-lg border border-gray-200">
                  <table class="w-full">
                    <thead class="bg-gray-50 border-b border-gray-200">
                      <tr>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"
                        >
                          Branch
                        </th>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase hidden sm:table-cell"
                        >
                          Location
                        </th>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase hidden md:table-cell"
                        >
                          Branch Head
                        </th>
                        <th
                          class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase hidden lg:table-cell"
                        >
                          Branch ID
                        </th>
                        <th
                          class="px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"
                        >
                          Status
                        </th>
                        <th
                          class="px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"
                        >
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="branchesTableBody"
                      class="divide-y divide-gray-200"
                    >
                      <!-- Branches will be loaded here dynamically -->
                    </tbody>
                  </table>
                </div>

                <!-- Empty State -->
                <div id="emptyBranchesMessage" class="hidden text-center py-12">
                  <i
                    class="fas fa-building text-6xl text-gray-300 mb-4 block"
                  ></i>
                  <p class="text-gray-500 mb-4">
                    No branches found for this user.
                  </p>
                  <a
                    href="/admin-dashboard/new-branch"
                    class="inline-flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all"
                  >
                    <i class="fas fa-plus"></i>
                    <span>Add First Branch</span>
                  </a>
                </div>
              </div>
            </section>

            <!-- HOTEL MANAGEMENT SECTION -->
            <!-- ----------------------------------- -->

            <!-- Manager Requests Section -->
            <section id="managers" class="content-section hidden">
              <h3 class="text-2xl font-bold mb-6 text-gray-900">
                Manager Requests
              </h3>
              <div class="bg-white card-base p-6">
                <p class="text-gray-700">
                  Review and approve pending manager applications. Assign new
                  managers to available hotels or update existing manager
                  profiles.
                </p>
                <div class="mt-4 flex space-x-4">
                  <button
                    class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-colors"
                  >
                    View Pending Applicants (3)
                  </button>
                  <button
                    class="border border-gray-300 hover:bg-gray-100 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors"
                  >
                    Manage Existing Managers
                  </button>
                </div>
              </div>
            </section>

            <!-- Owner Management Section -->
            <section id="owners" class="content-section hidden">
              <h3 class="text-2xl font-bold mb-6 text-gray-900">
                Owner Management
              </h3>
              <div class="bg-white card-base p-6">
                <p class="text-gray-700">
                  Manage owner profiles, review their attached businesses
                  (hotels), and adjust permissions and commission structures.
                  This area is for financial oversight and partner relations.
                </p>
              </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section hidden">
              <h3 class="text-2xl font-bold mb-6 text-gray-900">
                Performance Analytics
              </h3>
              <div class="bg-white card-base p-6">
                <p class="text-gray-700">
                  Detailed charts and graphs covering revenue, commission
                  trends, user acquisition rates, and platform usage statistics.
                </p>
                <div class="mt-4">
                  <span class="text-sm text-orange-600 font-semibold"
                    >Graph Placeholder: Revenue vs. Q3 2024</span
                  >
                </div>
              </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section hidden">
              <h3 class="text-2xl font-bold mb-6 text-gray-900">
                Global Platform Settings
              </h3>
              <div class="bg-white card-base p-6">
                <p class="text-gray-700">
                  Update global defaults, manage API keys, and configure
                  security settings for the entire platform.
                </p>
                <button
                  class="mt-4 border border-red-500 text-red-500 hover:bg-red-50 transition-colors px-4 py-2 rounded-lg font-medium"
                >
                  Reset Cache
                </button>
              </div>
            </section>
          </div>
        </main>
      </div>
    </div>

    <!-- Hotel Add/Edit Modal (Hidden by Default) -->
    <div
      id="hotelModal"
      class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex justify-center items-center p-4"
    >
      <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg modal-content">
        <div class="p-6">
          <h3
            id="modalTitle"
            class="text-2xl font-bold text-gray-800 mb-4 border-b pb-2"
          >
            Add New Hotel
          </h3>
          <form id="hotelForm" onsubmit="saveHotel(event)">
            <input type="hidden" id="hotelId" />

            <!-- Hotel Name -->
            <div class="mb-4">
              <label
                for="hotelName"
                class="block text-sm font-medium text-gray-700"
                >Hotel Name</label
              >
              <input
                type="text"
                id="hotelName"
                required
                class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"
              />
            </div>

            <!-- City -->
            <div class="mb-4">
              <label
                for="hotelCity"
                class="block text-sm font-medium text-gray-700"
                >City</label
              >
              <input
                type="text"
                id="hotelCity"
                required
                class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"
              />
            </div>

            <!-- Owner ID (Simulated) -->
            <div class="mb-4">
              <label
                for="hotelOwnerId"
                class="block text-sm font-medium text-gray-700"
                >Owner ID (Simulated)</label
              >
              <input
                type="text"
                id="hotelOwnerId"
                required
                maxlength="5"
                class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500"
              />
            </div>

            <!-- Status -->
            <div class="mb-6">
              <label
                for="hotelStatus"
                class="block text-sm font-medium text-gray-700"
                >Status</label
              >
              <select
                id="hotelStatus"
                required
                class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 bg-white"
              >
                <option value="Active">Active</option>
                <option value="Pending">Pending Approval</option>
                <option value="Suspended">Suspended</option>
              </select>
            </div>

            <!-- Buttons -->
            <div class="flex justify-end space-x-3">
              <button
                type="button"
                onclick="closeHotelModal()"
                class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-md"
              >
                Save Hotel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script id="branchData" type="application/json">
      <%- JSON.stringify(branches || []) %>
    </script>
    <script src="./js/superAdminScript.js"></script>
  </body>
</html>
